<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PiPiDw</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            overflow: hidden;
            background-color: #0a192f;
            font-family: 'Arial', sans-serif;
        }
        
        #canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        #text-container {
            position: relative;
            z-index: 2;
            width: 100%;
            height: 100vh;
        }
        
        .floating-text {
            position: absolute;
            color: #e6f1ff;
            font-size: 24px;
            text-shadow: 0 0 5px rgba(100, 255, 218, 0.5);
            white-space: nowrap;
            user-select: none;
        }
        
        .title {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #64ffda;
            font-size: 48px;
            text-align: center;
            z-index: 3;
            text-shadow: 0 0 10px rgba(100, 255, 218, 0.7);
            background-color: rgba(10, 25, 47, 0.7);
            padding: 20px 40px;
            border-radius: 10px;
            border: 1px solid #64ffda;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <div class="title">像素爱心与飘动文字</div>
    <div id="text-container"></div>

    <script>
        // 获取Canvas元素并设置尺寸
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        // 蓝色调色板
        const bluePalette = [
            '#0a192f', // 深蓝
            '#112240', // 中深蓝
            '#233554', // 中蓝
            '#1e4063', // 浅深蓝
            '#29668f'  // 浅蓝
        ];
        
        // 像素方块大小
        const pixelSize = 20;
        
        // 绘制像素背景
        function drawPixelBackground() {
            // 计算水平和垂直方向上的方块数量
            const cols = Math.ceil(canvas.width / pixelSize);
            const rows = Math.ceil(canvas.height / pixelSize);
            
            // 绘制像素方块
            for (let i = 0; i < cols; i++) {
                for (let j = 0; j < rows; j++) {
                    // 随机选择蓝色调色板中的颜色
                    const colorIndex = Math.floor(Math.random() * bluePalette.length);
                    ctx.fillStyle = bluePalette[colorIndex];
                    
                    // 绘制方块
                    ctx.fillRect(i * pixelSize, j * pixelSize, pixelSize, pixelSize);
                }
            }
        }
        
        // 绘制像素爱心
        function drawPixelHeart() {
            // 爱心像素图案数据
            const heartPattern = [
                [0, 1, 1, 0, 0, 0, 1, 1, 0],
                [1, 1, 1, 1, 0, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1, 1],
                [1, 1, 1, 1, 1, 1, 1, 1, 1],
                [0, 1, 1, 1, 1, 1, 1, 1, 0],
                [0, 0, 1, 1, 1, 1, 1, 0, 0],
                [0, 0, 0, 1, 1, 1, 0, 0, 0],
                [0, 0, 0, 0, 1, 0, 0, 0, 0]
            ];
            
            // 爱心大小
            const heartSize = 12;
            
            // 计算爱心位置（居中）
            const heartX = (canvas.width - heartPattern[0].length * heartSize) / 2;
            const heartY = (canvas.height - heartPattern.length * heartSize) / 2;
            
            // 绘制爱心
            ctx.fillStyle = '#64ffda'; // 青色爱心
            for (let i = 0; i < heartPattern.length; i++) {
                for (let j = 0; j < heartPattern[i].length; j++) {
                    if (heartPattern[i][j] === 1) {
                        ctx.fillRect(
                            heartX + j * heartSize, 
                            heartY + i * heartSize, 
                            heartSize, 
                            heartSize
                        );
                    }
                }
            }
        }
        
        // 初始化绘制
        function initCanvas() {
            drawPixelBackground();
            drawPixelHeart();
        }
        
        // 初始化画布
        initCanvas();
        
        // 窗口大小改变时重新绘制
        window.addEventListener('resize', function() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            initCanvas();
        });
        
        // 飘动文字类
        class FloatingText {
            constructor(text) {
                this.element = document.createElement('div');
                this.element.className = 'floating-text';
                this.element.textContent = text;
                
                // 随机位置
                this.x = Math.random() * window.innerWidth;
                this.y = Math.random() * window.innerHeight;
                
                // 随机速度
                this.speedX = (Math.random() - 0.5) * 2;
                this.speedY = (Math.random() - 0.5) * 2;
                
                // 随机字体大小
                this.fontSize = Math.random() * 20 + 16;
                
                this.init();
            }
            
            init() {
                this.element.style.fontSize = `${this.fontSize}px`;
                this.updatePosition();
                document.getElementById('text-container').appendChild(this.element);
            }
            
            updatePosition() {
                this.x += this.speedX;
                this.y += this.speedY;
                
                // 边界检测
                if (this.x < 0 || this.x > window.innerWidth) {
                    this.speedX *= -1;
                }
                
                if (this.y < 0 || this.y > window.innerHeight) {
                    this.speedY *= -1;
                }
                
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
            }
        }
        
        // 创建飘动文字
        const texts = [
            "爱", "心", "飘", "动", "蓝", "色", "梦", "幻",
            "HTML", "CSS", "JavaScript", "Canvas", "像素", "艺术",
            "编程", "创意", "设计", "前端", "开发", "代码"
        ];
        
        const floatingTexts = [];
        
        // 创建多个飘动文字
        for (let i = 0; i < 30; i++) {
            const randomText = texts[Math.floor(Math.random() * texts.length)];
            floatingTexts.push(new FloatingText(randomText));
        }
        
        // 动画循环
        function animate() {
            floatingTexts.forEach(text => {
                text.updatePosition();
            });
            
            requestAnimationFrame(animate);
        }
        
        // 启动动画
        animate();
    </script>
</body>
</html>
